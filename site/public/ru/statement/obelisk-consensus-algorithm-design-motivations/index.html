<!DOCTYPE html>
<html lang="en-us">
  
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Способы мотивации в архитектуре алгоритма консенсуса Obelisk | Skycoin Блог</title>
  <link rel="stylesheet" href="../../../css/main.css" />
  
    <meta property="og:title" content="Способы мотивации в архитектуре алгоритма консенсуса Obelisk">
    
    <meta property="og:type" content="article">
    <meta property="article:published_time" content="2017-10-26">
    
    <meta property="og:description" content="">
    <meta property="og:url" content="https://www.skycoin.net/ru/statement/obelisk-consensus-algorithm-design-motivations/">
    <meta property="og:site_name" content="Skycoin Блог">
    
    
    <meta property="og:tags" content="Obelisk">
    
    <meta property="og:tags" content="Consensus">
    
    <meta property="og:tags" content="Skywire">
    
    
  
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-105234182-1', 'auto');
    ga('send', 'pageview');
    </script>
  
</head>

<body>
<header class="site-header color-light">
	<div class="logo-container">
		<a href="../../../" class="logo"><span>Skycoin</span></a>
	</div>
	<nav class="nav">
		<ul>
			
				
				<li class="has-dropdown">
					<span class="nav-link">Technology</span>
					<ul>
						
						<li>
							<a class="dropdown-item nav-item-skywire" href="../../../ru/skywire">Skywire</a>
						</li>
						
						<li>
							<a class="dropdown-item nav-item-skycoin" href="../../../ru/skycoin">Skycoin</a>
						</li>
						
						<li>
							<a class="dropdown-item nav-item-skyledger" href="../../../ru/skyledger">Skyledger</a>
						</li>
						
					</ul>
				</li>
				
			
				
				<li>
					<a class="nav-link nav-item-whitepapers" href="../../../ru/whitepapers/">Whitepapers</a>
				</li>
				
			
				
				<li>
					<a class="nav-link nav-item-roadmap" href="../../../ru/roadmap/">Roadmap</a>
				</li>
				
			
				
				<li>
					<a class="nav-link nav-item-downloads" href="../../../ru/downloads/">Downloads</a>
				</li>
				
			
				
				<li>
					<a class="nav-link nav-item-blog" href="../../../ru/blog/">Blog</a>
				</li>
				
			
				
				<li>
					<a class="nav-link nav-item-markets" href="../../../ru/markets/">Buy Skycoin</a>
				</li>
				
			
		</ul>
	</nav>	
</header>

<section id="main">
	<div class="hero ">
	    <h1 id="title">Способы мотивации в архитектуре алгоритма консенсуса Obelisk</h1>
    </div>

    <article id="content">
        <p><em>Это старое сообщение в одной из тем на bitcointalks от 19 Июня 2014</em></p>

<blockquote>
<p>Цитата от: yxxyun  19 июня, 2014, 02:52:38 AM</p>

<blockquote>
<p>Цитата от: skycoin 19 июня, 2014, 02:31:59 AM</p>

<blockquote>
<p>Цитата от: FrictionlessCoin 18 июня, 2014, 09:15:07 PM</p>

<blockquote>
<p>Цитата от: skycoin 18 июня, 2014, 09:08:56 PM</p>

<p>Выдержка из апдейта:</p>

<p>Мы нашли способ предотвращения &ldquo;атаки Sybil&rdquo;, благодаря использованию гибридной
системы &ldquo;Proof of State&rdquo;.</p>

<p>Для того, чтобы создать узел, Вы должны доказать наличие у вас монет. Для примера, 10 монет.
Вы отправляете 10 монет на адрес A. Затем вы отправляете 10 монет с адреса А на адрес Б.
Потом вы добавляете подпись, используя публичный ключ адреса А для подписи сообщения
в вашем Obelisk блокчейне.</p>

<p>Как вариант, Вы можете показать публичный ключ для адреса A и затем просто
подписать сообщение, используя его. Узел должен будет опубликовать подпись в
течении определенного количества времени или через некоторое количество блоков после
передачи монет для поддержания достоверных доверительных отношений с другими узлами</p>

<p>Еще одна альтернатива - &ldquo;proof of burn&rdquo;(доказательство сожжения). Может потребоваться, когда
монеты отправлены с адреса А на адрес Б, который не имеет приватного ключа. &ldquo;Proof of burn&rdquo; противоречит
требованию, что никто не должен скачивать блокчейн целиком для полного контроля над узлом. Таким образом
использование &ldquo;proof of burn&rdquo; маловероятно.</p>

<p>Эта система ограничивает количество Obelisk узлов и снижает возможность запуска узлов для
держателей монет. Ограничение на количество узлов и требования по наличию монет добавляют
еще один слой защиты от &ldquo;Sybil атак&rdquo;.</p>
</blockquote>

<p>Не уверен, что это может предотвратить &ldquo;Sybil атаку&rdquo;.
Вы просто ставите цену за добавление узла в сеть и поэтому для
&ldquo;sybil атаки&rdquo; потребуются финансовые затраты?</p>
</blockquote>

<p>На данном этапе - это лишь идея. Найдено улучшение. Каждый Obelisk узел имеет публичный ключ.
Мы хешируем этот ключ в адрес и теперь этот адрес хранит 10 монет в качестве своих выходных данных.</p>

<p>Это не добавляет стоимости, а подтверждает то, что у вас есть 10 монет. Подтверждает, что Вы знаете
приватный ключ для публичного ключа адреса, в котором хранится 10 монет. Вы по-прежнему можете тратить монеты.</p>

<p>Идея в том, чтобы ограничить количество узлов. Если нужно хранить 10 монет,
а всего 100 миллионов монет, тогда необходимо ограничить сеть до 10 миллионов узлов.
Такие ограничения не дают экономическую выгоду прямо сейчас, но мы должны помнить
об их возможной необходимости.</p>

<p>Когда новый Obelisk узел запущен, он будет &ldquo;доверять&rdquo; нескольким случайным узлам. Пользователь
также может добавить вручную некоторые узлы, которым доверяет (биржи или доверенные члены
сообщества). Узел идентифицируется с помощью хеша публичного ключа и может быть найден с помощью
DHT. В этом отличие от Bitcoin, где узлы это пары IP:порт. Вы можете перенести свой компьютер и
подлинность вашего узла не пострадает, потому что она не зависит от IP адреса.</p>

<p>Мы хотим, чтобы сеть была безопасна даже со случайно выбранными узлами. Мы не хотим допустить
ситуацию, которая произошла у Ripple, когда 3 узла разработчиков контролировали всю сеть.
Однако, мы хотели предотвратить ситуацию, когда кто-нибудь запустит
200,000 узлов и попробует установить доверительные отношения с новыми пользователями.
Такие &ldquo;Sybil атаки&rdquo; все еще могут перерасти в &ldquo;атаку 51%&rdquo;, но в любом случае увеличение
стоимости затрат на атаку - это всегда хорошо.</p>

<p>Возможно, мы сделаем ограничение, чтобы новые пользователи смогли доверять только случайным узлам, на которых
неотрицательный баланс. Доверительные отношения не будут разорваны, если у узлов нулевой баланс,
но они согласны получать новых случайных пользователей.</p>

<p>Граф для доверительных отношений должен полностью состоять из случайных
связей. Некоторые узлы (доверенные члены сообщества, биржы, сайты,
организации) будут иметь больше доверительных отношений и это поможет
немного улучшить время достижения консенсуса блоками.  Слегка уменьшится радиус сети.
Некоторые узлы будут использованы для проверки консенсуса (вы выбираете из множества вариантов
обмена или из разных публичных ключей), эти узлы не влияют на решение консенсуса,
они так сказать &ldquo;оракулы консенсуса&rdquo;, которые следят за тем, чтобы узел сходился с сетью.</p>

<p>Если у двух больших бирж разный консенсус для конкретного блока, то это проблема.
Это может привести к разделению сети или к атаке на неё.
Биржи могут приостановить торговлю до тех пор, пока проблема не будет решена.</p>
</blockquote>

<p>Obelisk это консенсус для узлов Skycoin&rsquo;а? Я думал, что это skycoind&hellip;</p>
</blockquote>

<p>Да.</p>

<p>У skycoin есть блокчейн. Он находится тут
<a href="https://github.com/skycoin/skycoin/tree/develop/src/coin">https://github.com/skycoin/skycoin/tree/develop/src/coin</a>. Этот код анализирует блоки и производит
сделки с неотправленными результатами и транзакциями.</p>

<p>Skywire это &ldquo;демон&rdquo; с серверной архитекторой. Skywire может запускать сервисы,
которые синхронизируют блокчейн и делают другие полезные вещи. Ячеистая сеть в настоящее время
используется как надстройка над Skywire (возможно это надо поменять).</p>

<p>Механизм консенсуса находится за пределами блокчейна. Obelisk узлы (которые вероятно будут
реализованы как служба Skywire) содержат блокчейн.
У каждого узла есть публичный ключ, который является идентификатором узла.
Каждый Obelisk узел содержит свой собственный блокчейн (в этой цепи нет монет).
Узел создает новый блок и подписывает его приватным ключом.
The Obelisk блокчейны используются для установления консенсуса (определения главного
блока в Skycoin блокчейне). Obelisk использует алгоритм &ldquo;Ben-Or&rdquo; для случайного консенсуса.
Каждый Obelisk узел содержит список узлов, на которые он подписан.
Эти узлы влияют на консенсус и &ldquo;голосуют&rdquo; за решение на локальном узле.
Для непатологических сетевых топологий, локальный консенсус доказуемо сходится
к глобальному консенсусу.</p>

<p>Каждый узел голосует за следующий блок в цепочке. Один из узлов номинирует блок, а остальные
голосуют за него. Полученные голоса публикаются в блоках Obelisk блокчейна для каждого узла.
Ваш узел случайным образом выбирает одну из альтернатив и постоянно меняет свое решение в
течении некоторого времени.Когда 40% узлов (на которые вы подписаны) достигли консенсуса,
вы переключаетесь на выбранного кандидата. Сеть может голосовать за несколько разветвлений
сразу, это не замедлит ожидание консенсуса. Со временем разветвления обрезаются в единую цепь.
Разделения в 2 или 3 - это норма, но с каждым последующим подтверждением вероятность возврата
блока экспоненциально уменьшается и стремится к нулю. Если транзакция была произведена у всех кандидатов
сети, то она считается выполненной, даже если текущий консенсус сети еще не был достигнут.</p>

<p>Так работает двоичный алгоритм &ldquo;Ben-Or&rdquo;, а Skycoin будет использовать что-нибудь более продвинутое,
которое будет быстрее в ситуации, когда появляется много блоков-претендентов.
Рандомизация важна для сохранения суб-графов сети от застревания.
Процесс голосования - это форма &ldquo;отжига&rdquo; в которой каждый узел
самостоятельно достигнет глобального консенсуса, используя только локальную информацию.</p>

<p>Процесс консенсуса происходит публично. Узел публикует блоки, подписывает их приватными ключами
и блоки копируются от узла к узлу среди подписчиков цепочки. Затем в дело вступают &ldquo;оракулы консенсуса&rdquo;,
которые используются для подтверждения консенсуса, но не участвуют в нем. Таким образом вы можете выбирать
среди публичных ключей нескольких бирж и доверенных участников сообщества и с их помощью ваш узел определит
все ли в порядке. Это помогает обнаружить разделения сети. Также это защищает от атак,
если хакер взломал ваш роутер и контролирует узлы с которыми вы устанавливаете соединения.</p>

<p>Если узел появляется в сети и пытается заставить сеть принять другое ответвление(атака 51%, возвращение
операций), он просто будет проигнорирован. Большинство &ldquo;атак 51%&rdquo; предполагает наличие поврежденных узлов,
поведение которых позволяет их автоматически обнаружить и как результат убрать такой узел из доверенного
списка. Чем проще стратегия &ldquo;атаки 51%&rdquo;, тем проще такие узлы обнаружить и быть уверенным, что это была попытка
вернуть транзакцию. Их выдаёт то, что для этого требуются решения потвержденные прошедшим числом.
Это требует публикации двух подписанных блоков с одинаковым порядковым номером, поэтому мы просто сделали систему,
которая автоматически препятствует этому преступлению.</p>

<p>Мы пытаемся устранить последнюю возможность на &ldquo;атаку 51%&rdquo;, которая возможна, когда подсеть перестаёт
быть онлайн(атака с разделением сети) и потом переподключается к сети с другим консенсусом блокчейна и
пытается заставить сеть вернуть транзакции. Большинство из этих атак будут провальны, потому что подсеть не
будет обладать достаточным влиянием.</p>

<p>Но последствие такой атаки по-прежнему трудно исправить. Таким образом, можно считать, что это успешная
атака, единственное решение - заморозить сеть и разрешить каждому узлу/пользователю
самому решить какая цепочка является валидной и дать людям возможность самим запретить атакующие узлы.
&ldquo;Оракулы консенсуса&rdquo; позволяют каждому узлу, с высокой вероятность, знать статус синхронизации и если глобальный
консенсус был достигнут или эти узлы являются частью отделившейся от сети. Мы думаем, что это возможно осуществить
даже с локальной информацией которой обладает каждый из узлов, даже если он был не в сети во время принятия консенсусного
решения и проигнорировать остальные узлы, которые также были оффлайн, если те внезапно появятся и попробуют атаковать
сеть.</p>

<p>В Bitcoin, если Вы обладаете наибольшей хеширующей мощностью, то Вы можете возвращать транзакции когда вам
захочется.</p>

<p>В Skycoin, для возврата транзакции:</p>

<ul>
<li>Вы должны контролировать большое количество узлов</li>
<li>Узлы должныть быть &ldquo;влиятельными&rdquo; и находится в большинстве доверенных списках сети</li>
<li>Ваши узлы не должны вести себя, как атакующие, потому что в этом случаи они будут обнаружены и потеряют
все доверительные связи.</li>
<li>Ваши узлы должны быть в топологии атаки, не будучи
при этом обнаруженными (большинству бот-узлов будет доверять очень мало людей, это очевидно)</li>
<li>Вы должны получить контроль над конкретными узлами для успешной атаки (это не так уж просто)</li>
<li>Если атака успешна, вы должны удержать сеть от отката её действий вручную (сложно это сделать,
когда люди потеряли деньги)</li>
</ul>

<p>Для доказательства, что это &ldquo;атака 51%&rdquo;, вам надо выписать все предположения о её осуществлении, затем описать простую
математическую модель и определить условия при которых такая атака возможна в данной модели. Когда вы знаете все условия
необходимые для атаки, вы пытаетесь исключить их, и если вы не можете полностью свести их на нет, вы делаете их достижение
настолько сложным, насколько это возможно. Вы увеличиваете необходимые затраты на атаку и уменьшаете вероятность успешности
специфических атак. Таким образом вы уменьшаете возможную награду за успешную атаку.</p>

<p>Процесс консесуса прост и легок в моделировании, но интуитивно не понятен без наглядного примера. В скором времени появится
сайт, который будет в анимированном виде демонстрировать процессы консенсуса.</p>

    </article>

    
    
</section>

<footer style="background-color:darkgray;">
    <a href="">SkyCoin Logo</a>
    <p>En, Cn, Ko, Jp</p>
    <nav>
        <div>
            <ul>
                <li>SkyCoin</li>
                <li>
                    <a href="">Team</a>
                </li>
                <li>
                    <a href="">Blog</a>
                </li>
                <li>
                    <a href="https://explorer.skycoin.net/app/blocks/1">Blockchain Explorer</a>
                </li>
            </ul>
        </div>
        <div>
            <ul>
                <li>Technology</li>
                <li>
                    <a href="">SkyWire</a>
                </li>
                <li>
                    <a href="../../../skycoin">SkyCoin</a>
                </li>
                <li>
                    <a href="">SkyMiner</a>
                </li>
            </ul>
        </div>
        <div>
            <ul>
                <li><a href=""></a>Community</li>
                
                    <li><a class="footer__link" href="https://www.skycoin.net/">skycoin.net</a></li>
                
                    <li><a class="footer__link" href="https://github.com/skycoin">Github</a></li>
                
                    <li><a class="footer__link" href="https://twitter.com/skycoinproject">Twitter</a></li>
                
                    <li><a class="footer__link" href="https://reddit.com/r/SkycoinProject">Reddit</a></li>
                
                    <li><a class="footer__link" href="https://t.me/Skycoin">Telegram</a></li>
                
                    <li><a class="footer__link" href="https://explorer.skycoin.net/">Blockchain Explorer</a></li>
                
            </ul>
        </div>
        <div>
            <ul>
                <li>Contact</li>
                <li>
                    <a>Email Us</a>
                </li>
                <li>
                    <a href="https://www.skycoin.net/mailing-list/" target="_blank">Mailing List</a>
                </li>
            </ul>
        </div>
    </nav>
</footer>
    

    <script src="../../../app.js"></script>


  <script>
    var dropdown = document.querySelector('.js-dropdown'),
      list = dropdown.querySelector('.js-dropdown-list'),
      current = dropdown.querySelector('.js-dropdown-current');

    current.addEventListener('click', function(e) {
      list.classList.toggle('header-dropdown__list_show');

      document.addEventListener('click', function(e) {
        if(!dropdown.contains(e.target)) {
          list.classList.remove('header-dropdown__list_show');
        }
      });
    }, false)
  </script>

  <script src="../../../app.js"></script>

  
    <script src="//platform.twitter.com/oct.js" type="text/javascript"></script>
    <script type="text/javascript">
    if (window.twttr) {
      twttr.conversion.trackPid('ny03t', { tw_sale_amount: 0, tw_order_quantity: 0 });
    } </script>
    <noscript>
    <img height="1" width="1" style="display:none;" alt="" src="https://analytics.twitter.com/i/adsct?txn_id=ny03t&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0" />
    <img height="1" width="1" style="display:none;" alt="" src="//t.co/i/adsct?txn_id=ny03t&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0" />
    </noscript>
  

</body>
</html>
