<!DOCTYPE html>
<html lang="en-us">
  
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Obelisk: Skycoin Consensus Algorithm | Information Pages | Skycoin Blog</title>
  <link rel="stylesheet" href="../../css/main.css" />
  
    <meta property="og:title" content="Obelisk: Skycoin Consensus Algorithm | Information Pages">
    
    <meta property="og:type" content="article">
    <meta property="article:published_time" content="2017-09-09">
    
    <meta property="og:description" content="">
    <meta property="og:url" content="https://www.skycoin.net/overview/obelisk-skycoin-consensus-algorithm-information-pages/">
    <meta property="og:site_name" content="Skycoin Blog">
    
    
    <meta property="og:tags" content="Overview">
    
    <meta property="og:tags" content="Consensus">
    
    <meta property="og:tags" content="Obelisk">
    
    
  
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-105234182-1', 'auto');
    ga('send', 'pageview');
    </script>
  
</head>

<body>
<header class="site-header color-light">
	<div class="logo-container">
		<a href="../../" class="logo"><span>Skycoin</span></a>
	</div>
	<nav class="nav">
		<ul>
			
				
				<li class="has-dropdown">
					<span class="nav-link">Technology</span>
					<ul>
						
						<li>
							<a class="dropdown-item nav-item-skywire" href="../../skywire">Skywire</a>
						</li>
						
						<li>
							<a class="dropdown-item nav-item-skycoin" href="../../skycoin">Skycoin</a>
						</li>
						
						<li>
							<a class="dropdown-item nav-item-skyledger" href="../../skyledger">Skyledger</a>
						</li>
						
					</ul>
				</li>
				
			
				
				<li>
					<a class="nav-link nav-item-whitepapers" href="../../whitepapers/">Whitepapers</a>
				</li>
				
			
				
				<li>
					<a class="nav-link nav-item-roadmap" href="../../roadmap/">Roadmap</a>
				</li>
				
			
				
				<li>
					<a class="nav-link nav-item-downloads" href="../../downloads/">Downloads</a>
				</li>
				
			
				
				<li>
					<a class="nav-link nav-item-blog" href="../../blog/">Blog</a>
				</li>
				
			
				
				<li>
					<a class="nav-link nav-item-markets" href="../../markets/">Buy Skycoin</a>
				</li>
				
			
		</ul>
	</nav>	
</header>

<section id="main">
	<div class="hero ">
	    <h1 id="title">Obelisk: Skycoin Consensus Algorithm | Information Pages</h1>
    </div>

    <article id="content">
        

<p><img src="../../img/obelisk-the-skycoin-consensus-algorithm.png" alt="Obelisk The Skycoin Consensus Algorithm" /></p>

<!-- MarkdownTOC autolink="true" bracket="round" -->

<ul>
<li><a href="#consensus-highlights">Consensus highlights</a>

<ul>
<li><a href="#why-consensus">Why consensus</a></li>
<li><a href="#high-scalability-and-low-energy-consumption">High scalability and low-energy consumption</a></li>
<li><a href="#robust-to-coordinated-attacks">Robust to coordinated attacks</a></li>
<li><a href="#the-%E2%80%9C51-percent-attack%E2%80%9D">The “51-percent Attack”</a></li>
<li><a href="#hidden-ip-addresses">Hidden IP addresses</a></li>
<li><a href="#independence-of-clock-synchronization">Independence of clock synchronization</a></li>
<li><a href="#two-type-of-nodes-consensus-and-block-making">Two type of nodes: Consensus and Block-making</a></li>
</ul></li>
<li><a href="#how-skycoin-consensus-algorithm-works">How Skycoin Consensus Algorithm works</a></li>
<li><a href="#references">References</a></li>
</ul>

<!-- /MarkdownTOC -->

<h2 id="consensus-highlights">Consensus highlights</h2>

<h3 id="why-consensus">Why consensus</h3>

<p>Skycoin Consensus Algorithm (&ldquo;Obelisk&rdquo;) synchronizes the state of Skycoin
blockchain across all the network nodes. This results in consistent accounting,
i.e. when calculating coin balance for a given public key (or address)
yields same value at each node that performed the calculation.</p>

<h3 id="high-scalability-and-low-energy-consumption">High scalability and low-energy consumption</h3>

<p>By design, the algorithm is a scalable and computationally-inexpensive
alternative to proof-of-work, therefore both the consensus algorithm and
block-making can be run on a budget hardware that have low price and low
energy consumption, thus making the cryptocurrency network more robust
to possible centralization attempts (i.e. via node being affordable to
general public).</p>

<h3 id="robust-to-coordinated-attacks">Robust to coordinated attacks</h3>

<p>Our Consensus Algorithm (i) converges fast, (ii) requires minimal
network traffic, and (iii) can withstand a large-scale coordinated
attack by a well-organized network of malicious nodes. The algorithm is
non-iterative, fast, can be run on a sparse network with only
nearest-neighbor connectivity (e.g. on Mesh Network), and works well in
the presence of cycles in the connectivity graph (i.e. DAG-type
connectivity is <em>not</em> required).</p>

<h3 id="the-51-percent-attack">The “51-percent Attack”</h3>

<p>In a limited sense, the base version of the Algorithm can be subject to
this attack. Specifically, when the modified or malicious nodes who are
in majority broadcast a protocol-compliant and UTXO-compliant candidate
block, such block wins the consensus. However, a block with any sort of
non-compliance is dropped by the (unmodified) Algorithm before the block
gets a chance to participate in consensus trial.</p>

<p>Consensus nodes can optionally utilize a Web-of-Trust concept in such a
way that consensus-related messages that come from unknown nodes (i.e.
signed by untrusted public keys) are ignored.</p>

<p>When Web-of-Trust mode is enabled, starting a very large number of
malicious consensus nodes in order to (a) cause blockchain fork or (b)
disrupt the consensus process would have little effect, unless a vast
majority of Web-of-Trust members unwittingly include those malicious
nodes into their local lists of trusted nodes.</p>

<h3 id="hidden-ip-addresses">Hidden IP addresses</h3>

<p>The nodes are addressed by their cryptographic public key. Node’s IP
address is only known to the nodes to which it is connected directly.</p>

<h3 id="independence-of-clock-synchronization">Independence of clock synchronization</h3>

<p>The Algorithm does not use “wall clock” (i.e. calendar date/time).
Instead, block sequence numbers that are extracted from validated
consensus- and blockchain- related messages are used to calculate node’s
internal time. This can be informally called “block clock”.</p>

<h3 id="two-type-of-nodes-consensus-and-block-making">Two type of nodes: Consensus and Block-making</h3>

<p>A consensus node receives its input from one or more block-making nodes.
The algorithms for consensus and block-making are separate, yet they
both operate on same data-structures. We mention block-making where it
helps understanding the Consensus Algorithm and how it integrates with
the rest of the system.</p>

<p>Both type of nodes always performs authorship verification and fraud
detection of incoming date. Fraudulent or invalid messages are detected,
dropped and never propagated; peer nodes engaged in suspicious
activities are disconnected from, and their public keys are banned.</p>

<h2 id="how-skycoin-consensus-algorithm-works">How Skycoin Consensus Algorithm works</h2>

<p>For exposition purposes only, the following description assumes that (i)
each node is both block-maker and consensus participant, and (ii)
consensus-related messages generated by non-trusted nodes are accepted,
i.e. no filtering based on web-of-trust is performed. A full
implementation (i.e. without these simplifying assumptions) will be
available in Skycoin GitHub repository. For simulation results and a
detailed, diagrammatic example of one consensus trial, see <a href="#references">[1]</a>. A
simulation of a network with trust relationship, although using a
different than Skycoin algorithm, can be found in <a href="#references">[2]</a>. The
description of Skycoin Consensus Algorithm follows.</p>

<ol>
<li><p><em>Block-making</em>. Each block-making node collects new
transactions, verifies them against the UTXO of the desired sequence
number, packages the compliant transactions into a new block, and
broadcasts the block to the network.</p></li>

<li><p><em>Collecting blocks</em>. Each consensus node collects the
blocks generated by block-makers, and puts them into a container
(separate from blockchain) keyed by block’s sequence number.</p></li>

<li><p><em>Selecting winning block</em>. Each consensus node, upon
receiving a sufficiently large number<sup class="footnote-ref" id="fnref:1"><a rel="footnote" href="#fn:1">1</a></sup> of candidate blocks or
upon meeting other criteria, finds the block that was made by the
largest number of block-makers. Ties are resolved deterministically.
Such block is labeled “local winner”<sup class="footnote-ref" id="fnref:2"><a rel="footnote" href="#fn:2">2</a></sup> and is appended to the
local blockchain. The key-value pair corresponding to the block
sequence number of the local winner is deleted, thus
reclaiming storage. Hash code of local winner
is broadcast/announced.</p></li>

<li><p><em>Verification step</em>. Each node keep statistics on local
winners reported by other nodes. When local winners have been
reported by all or most of the nodes<sup class="footnote-ref" id="fnref:3"><a rel="footnote" href="#fn:3">3</a></sup>, the node determines the
global winner for the particular sequence number. If the global
winner is the local winner, then the node continues to function
as above. Otherwise the nodes decides, based on external data and
local logs, between (a) re-synchronizing itself with the network
or (b) dropping from participating in consensus and/or block-making
or &copy; keeping its blockchain and requesting an emergency stop.</p></li>
</ol>

<h2 id="references">References</h2>

<p>[1] johnstuartmill et al. A Distributed Consensus Algorithm for
Cryptocurrency Networks.
<a href="https://github.com/skycoin/whitepapers/blob/master/whitepaper_skycoin_consensus_v01_jsm.pdf">https://github.com/skycoin/whitepapers/blob/master/whitepaper_skycoin_consensus_v01_jsm.pdf</a>
2016</p>

<p>[2] Houwu Chen and Jiwu Shu. Sky: an Opinion Dynamics Framework and Model
for Consensus over P2P Network.
<a href="https://github.com/skycoin/whitepapers/blob/master/Sky-%20Opinion%20Dynamics%20Based%20Consensus%20for%20P2P%20Network%20with%20Trust%20Relationships.pdf">https://github.com/skycoin/whitepapers/blob/master/Sky-%20Opinion%20Dynamics%20Based%20Consensus%20for%20P2P%20Network%20with%20Trust%20Relationships.pdf</a>
201?</p>

<p><em>Read more:</em></p>

<ul>
<li><em><a href="https://www.skycoin.net/whitepapers">Skycoin Consensus Algorithm Whitepapers</a></em></li>
<li><em><a href="../../statement/obelisk-the-skycoin-consensus-algorithm/">Obelisk The Skycoin Consensus Algorithm</a></em></li>
</ul>
<div class="footnotes">

<hr />

<ol>
<li id="fn:1">This is a configurable parameter of in the Algorithm.
 <a class="footnote-return" href="#fnref:1">↩</a></li>

<li id="fn:2"><p>Under certain ideal conditions, local winners (for a given block
sequence number) are all the same, i.e. include identical set of
transactions. The difference arises due to network latency, high
frequency of transactions, out-of-sequence message delivery, message
loss, malfunctioning or malicious nodes etc.</p>
 <a class="footnote-return" href="#fnref:2">↩</a></li>

<li id="fn:3"><p>This number can be determined, for example, by asking trusted
nodes to report public keys of their trusted nodes, recursively.</p>
 <a class="footnote-return" href="#fnref:3">↩</a></li>
</ol>
</div>

    </article>

    
    
</section>

<footer style="background-color:darkgray;">
    <a href="">SkyCoin Logo</a>
    <p>En, Cn, Ko, Jp</p>
    <nav>
        <div>
            <ul>
                <li>SkyCoin</li>
                <li>
                    <a href="">Team</a>
                </li>
                <li>
                    <a href="">Blog</a>
                </li>
                <li>
                    <a href="https://explorer.skycoin.net/app/blocks/1">Blockchain Explorer</a>
                </li>
            </ul>
        </div>
        <div>
            <ul>
                <li>Technology</li>
                <li>
                    <a href="">SkyWire</a>
                </li>
                <li>
                    <a href="../../skycoin">SkyCoin</a>
                </li>
                <li>
                    <a href="">SkyMiner</a>
                </li>
            </ul>
        </div>
        <div>
            <ul>
                <li><a href=""></a>Community</li>
                
                    <li><a class="footer__link" href="https://www.skycoin.net/">skycoin.net</a></li>
                
                    <li><a class="footer__link" href="https://github.com/skycoin">Github</a></li>
                
                    <li><a class="footer__link" href="https://twitter.com/skycoinproject">Twitter</a></li>
                
                    <li><a class="footer__link" href="https://reddit.com/r/SkycoinProject">Reddit</a></li>
                
                    <li><a class="footer__link" href="https://t.me/Skycoin">Telegram</a></li>
                
                    <li><a class="footer__link" href="https://explorer.skycoin.net/">Blockchain Explorer</a></li>
                
            </ul>
        </div>
        <div>
            <ul>
                <li>Contact</li>
                <li>
                    <a>Email Us</a>
                </li>
                <li>
                    <a href="https://www.skycoin.net/mailing-list/" target="_blank">Mailing List</a>
                </li>
            </ul>
        </div>
    </nav>
</footer>
    

    <script src="../../app.js"></script>


  <script>
    var dropdown = document.querySelector('.js-dropdown'),
      list = dropdown.querySelector('.js-dropdown-list'),
      current = dropdown.querySelector('.js-dropdown-current');

    current.addEventListener('click', function(e) {
      list.classList.toggle('header-dropdown__list_show');

      document.addEventListener('click', function(e) {
        if(!dropdown.contains(e.target)) {
          list.classList.remove('header-dropdown__list_show');
        }
      });
    }, false)
  </script>

  <script src="../../app.js"></script>

  
    <script src="//platform.twitter.com/oct.js" type="text/javascript"></script>
    <script type="text/javascript">
    if (window.twttr) {
      twttr.conversion.trackPid('ny03t', { tw_sale_amount: 0, tw_order_quantity: 0 });
    } </script>
    <noscript>
    <img height="1" width="1" style="display:none;" alt="" src="https://analytics.twitter.com/i/adsct?txn_id=ny03t&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0" />
    <img height="1" width="1" style="display:none;" alt="" src="//t.co/i/adsct?txn_id=ny03t&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0" />
    </noscript>
  

</body>
</html>
